"use client";
import { Progress } from "@/components/ui/progress";
import { motion as m } from "framer-motion";
import Link from "next/link";
import { useEffect, useState } from "react";
import Typewriter from "typewriter-effect";
export default function FinishForm({ step }: any) {
  const [progress, setProgress] = useState(0);
  useEffect(() => {
    setTimeout(() => {
      progress <= 100
        ? setProgress(progress + Math.random() * (14 - 0) + 0)
        : setProgress(100);
    }, 2800);
  }, [progress]);
  return (
    <>
      <m.h1
        className="text-start font-title text-2xl dark:text-white"
        initial={{ opacity: 0, y: "-100%" }}
        animate={{
          opacity: 1,
          y: "0%",
          transition: {
            ease: "easeInOut",
            duration: 1.2,
            delay: 0.3,
          },
        }}
      >
        Agora vou começar a produzir o negócio!
      </m.h1>
      <m.h2
        className="text-base font-light text-gray-600"
        initial={{ opacity: 0, y: "-100%" }}
        animate={{
          opacity: 1,
          y: "0%",
          transition: {
            ease: "easeInOut",
            duration: 1.2,
            delay: 0.6,
          },
        }}
      >
        Estou configurando o conteúdo, enquanto isso tome um cafézinho!
      </m.h2>

      <m.div
        className="flex flex-col items-center justify-center gap-6"
        initial={{ opacity: 0, y: "-100%" }}
        animate={{
          opacity: 1,
          y: "0%",
          transition: {
            ease: "easeInOut",
            duration: 1.2,
            delay: 0.6,
          },
        }}
      >
        <div className="flex w-full flex-col gap-3 py-3 text-center text-xl font-light text-gray-600">
          <Progress value={progress} color="emerald" />
          <Typewriter
            options={{
              strings: listMessages,
              autoStart: true,
              loop: false,
              cursor: "",
            }}
          />
        </div>

        {progress >= 100 && (
          <div className="my-6 flex h-[300px] w-[300px] items-center rounded-full bg-stone-100">
            <svg
              viewBox="0 0 400 400"
              xmlns="http://www.w3.org/2000/svg"
              height={400}
              width={400}
              id="Order-Delivered-2--Streamline-Brooklyn"
            >
              <desc>
                {
                  "Order Delivered 2 Streamline Illustration: https://streamlinehq.com"
                }
              </desc>
              <path
                d="M197.692 234.6a1.738 1.738 0 0 0 1.154 1.708 209.64 209.64 0 0 0 26.84 6.136 1.728 1.728 0 0 0 1.822 -1.614 158.93 158.93 0 0 1 0.732 -18.332c14.014 2.056 27.88 3.718 41.964 5.11a10.274 10.274 0 0 0 5.354 -0.618 328.7 328.7 0 0 0 42.318 -15.128c2.866 -1.212 0.548 -4 -2.256 -2.882a362.264 362.264 0 0 1 -40.728 14.118 8.042 8.042 0 0 1 -4.668 0.304c-12.888 -1.128 -25.732 -2.656 -38.532 -4.474 23.322 -12.66 47.154 -25.6 72.56 -33.716 5.128 -1.64 4.4 -8.056 0.022 -8.628a381.266 381.266 0 0 0 -63.756 -3.44 101.524 101.524 0 0 0 -12.13 1.246c-26.782 4.088 -60.76 12.844 -84.372 26.946 -1.954 1.168 -1.89 1.652 -2.498 4.126 -5.17 21.084 -7.182 62 -2.166 90.318 0.302 1.712 2.72 1.152 2.6 -0.498 -0.616 -7.8 -1.412 -15.552 -1.688 -23.37a281.462 281.462 0 0 1 5.032 -65.332c0.572 -2.86 -0.168 -2.156 2.884 -3.814 23.356 -12.69 55.1 -21.496 81.06 -25.468a74.96 74.96 0 0 1 11.978 -0.724 385.77 385.77 0 0 1 50.526 2.082C265.054 183.538 223.548 197.33 201 214c-15.984 -2.85 -31.722 -6.51 -47.626 -9.44 -1.716 -0.318 -2.04 2.114 -0.462 2.6a421.526 421.526 0 0 0 46 10.5 89.282 89.282 0 0 0 -1.22 16.94Zm7.516 -18.612a100.322 100.322 0 0 1 20.156 2.628c1.086 0.304 1.896 2.436 -0.142 2.426a91.02 91.02 0 0 1 -20.182 -2.52c-2.26 -0.594 -1.422 -2.506 0.16 -2.544Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M159.564 142.916a56.954 56.954 0 0 0 3.648 11.914 1.362 1.362 0 0 0 2.552 -0.85c-1.25 -4.014 -2.4 -8.08 -3.184 -11.69a34.822 34.822 0 0 0 21.376 -16.43c4.682 -8.286 5.372 -18.13 4.93 -27.446a95.91 95.91 0 0 0 -7.578 -34.564 1.412 1.412 0 0 0 -2.624 1.042 139.858 139.858 0 0 1 6.274 27.53c0.882 8.916 1.2 18.48 -1.92 27.026a31.634 31.634 0 0 1 -22.5 19.674c-13.8 3.2 -26.714 -3.464 -34.14 -15.25 -0.784 -1.246 -2.92 -0.072 -2.27 1.262a33.736 33.736 0 0 0 35.436 17.782Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M166.2 96.364a57.708 57.708 0 0 0 -5.93 -9.304c-0.95 -1.11 -3.174 -0.19 -2.426 1.324 1.768 3.576 4.128 6.84 5.988 10.37 0.722 1.368 1.116 2.666 -0.07 3.882a11.446 11.446 0 0 1 -4.75 2.098 1.432 1.432 0 0 0 0.658 2.748 10.324 10.324 0 0 0 6.108 -2.324c3.07 -2.814 2.13 -5.712 0.422 -8.794Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M144.154 74.05c-3.888 -0.56 -9.302 3.77 -11.022 6.954a1.414 1.414 0 0 0 2.068 1.884c4.784 -4.75 6.852 -4.332 9.8 -6.226a1.494 1.494 0 0 0 -0.846 -2.612Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M175.45 71.668a8.576 8.576 0 0 0 -4.912 -2.89 9.888 9.888 0 0 0 -5.988 0.298 1.524 1.524 0 0 0 0.55 2.884 12.076 12.076 0 0 1 4.88 0.07 13.538 13.538 0 0 1 3.708 1.646 1.354 1.354 0 0 0 1.762 -2.008Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M169.37 82.2c-2.178 1.446 -0.042 8.348 2.826 7.13 1.126 -0.478 1.556 -2.226 1.2 -3.894 -0.316 -1.53 -2.322 -4.36 -4.026 -3.236Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M145.63 96.44c2.42 -1.354 0.364 -8.362 -2.83 -7.234a3.288 3.288 0 0 0 -1.448 3.842c0.32 1.684 2.448 4.42 4.278 3.392Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M164.4 117.15c1.146 -1.068 -0.552 -2.764 -1.784 -1.986 -4.316 2.73 -9.62 4.894 -13.818 0.728a16.098 16.098 0 0 1 -2.188 -3.8c-0.668 -1.138 -2.19 -0.524 -2.504 0.518 -0.62 2.06 0.888 4.374 2.236 5.78 5.01 5.226 13.258 3.252 18.058 -1.24Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M251.254 338.46a1.334 1.334 0 0 0 -1.81 -1.958c-21.226 18.4 -49.89 11.826 -73.082 19.676a1.52 1.52 0 0 0 0.702 2.954c25.196 -5.172 56.228 -2.704 74.19 -20.672Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M224.968 337.8c11.8 0.264 27.8 -5.412 32.548 -16.184a1.33 1.33 0 0 0 -2.388 -1.168 25.156 25.156 0 0 1 -12.2 10 83.978 83.978 0 0 1 -18.542 4.616c-1.694 0.272 -0.912 2.702 0.582 2.736Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M223.736 326.6c4.33 0.6 13.6 -3.456 17.61 -5.51a52.102 52.102 0 0 0 15.074 -11.262 1.372 1.372 0 0 0 -1.92 -1.956c-12.8 10.982 -18.832 12.24 -31.062 16.25a1.346 1.346 0 0 0 0.298 2.478Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M249.732 292.842c0.912 -1.472 -1.166 -2.68 -2.2 -1.4 -11.92 14.554 -18.738 14.898 -27.762 19.556 -1.482 0.764 -0.518 2.708 0.942 2.566 7.608 -0.75 22.288 -9.836 29.02 -20.722Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M199.448 300a66.892 66.892 0 0 1 -16.8 12.82c-1.49 0.724 -0.35 3.016 1.16 2.58 6.774 -1.962 12.154 -7.29 17.118 -12.028a57.034 57.034 0 0 1 17 -12.274c1.68 -0.834 0.316 -3.05 -1.244 -2.762 -6.05 1.106 -12.842 7.464 -17.234 11.664Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M373.92 202.96c-0.116 -1.746 -2.842 -1.862 -2.8 -0.022 1.06 41.11 3.066 81.976 1.436 123.144a311.438 311.438 0 0 1 -43.2 22.856c-18.278 7.898 -34.436 12.314 -53.298 17.544 0.4 -30.242 2.496 -91.746 -1.524 -132.2a1.366 1.366 0 0 0 -2.73 0.088c0.448 23.68 4.224 89.4 -0.02 132.56 -23.348 0.672 -48.4 -4.056 -71.37 -7.744 -1.508 -0.242 -2.244 2.286 -0.694 2.648a333.614 333.614 0 0 0 69.338 8.978 29.064 29.064 0 0 0 7.682 -0.706 393.862 393.862 0 0 0 52.976 -17.42 311.332 311.332 0 0 0 44.044 -23.1c2.03 -1.278 1.85 -1.44 1.928 -3.548a1166.128 1166.128 0 0 0 -1.768 -123.078Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M343.43 313.6a38.844 38.844 0 0 0 7.854 -2.042 91.848 91.848 0 0 1 0.586 10.2c0 3.616 -1.6 1.726 -3.614 0.66a1.448 1.448 0 0 0 -1.92 1.838 5.772 5.772 0 0 0 6.118 3.138c2.736 -0.634 3.542 -3.036 3.728 -5.564a90.8 90.8 0 0 0 -0.06 -12.166 66.924 66.924 0 0 0 9.376 -5.064 1.748 1.748 0 0 0 0.744 -1.924c-1.636 -7.106 -9.72 -9.07 -15.77 -6.418a16.412 16.412 0 0 0 -9.746 15.136c0.112 1.822 1.074 2.37 2.704 2.206Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M113.372 113.486c-0.092 -1.05 -0.066 -2.71 -1.5 -2.714 -5.334 -0.012 -8.882 -5.07 -8.984 -10.082 -0.108 -5.372 4.4 -9.366 9.2 -5.368a1.828 1.828 0 0 0 2.492 -0.494 70 70 0 0 0 13.714 -27.944c18.158 0.872 45.33 -2.082 58.634 -15.364 7.108 -7.094 12.8 -20.164 5.164 -28.9 -14.572 -16.684 -44.066 -8.272 -58.06 5.89 -1.2 -17.942 -35.738 -16.066 -38.4 23.078 -10.83 -14.514 -20.378 -0.076 -19.294 14.23 1.672 22.04 18 46.31 35.266 59.868 1.448 9.682 3.55 21.548 7.274 30.4a1.344 1.344 0 0 0 2.53 -0.8c-2.514 -11.448 -6.008 -18.99 -8.036 -41.8ZM142.1 32c10.342 -9.908 29.846 -12.108 38.2 -7.676a1.324 1.324 0 0 1 -0.698 2.51 72.934 72.934 0 0 0 -18.766 0.812 68.706 68.706 0 0 0 -17.494 6.514c-1.396 0.684 -2.176 -1.274 -1.242 -2.16Z"
                fill="#191919"
                strokeWidth={1}
              />
              <path
                d="M219.8 173.4c-11.344 -7.318 -28.916 -14.506 -47.386 -18.958 -4.766 14.498 -42.352 18.538 -62.38 -0.58 -43.74 15.794 -108.206 73.104 -99.18 137.036 7.358 52.118 92.324 95.698 158.8 95.698 0.956 -26.284 5.048 -61.968 11.884 -78.118 -36.638 -3.5 -78.956 -21.45 -106.544 -44.264a1.306 1.306 0 0 1 1.636 -2.034 260.512 260.512 0 0 0 22.448 14.702c1.134 -12.768 9.874 -34.934 15.446 -45.76a1.31 1.31 0 0 1 2.368 1.122c-8.172 18.27 -9.2 29.272 -14.4 46.554a211.13 211.13 0 0 0 32.412 14.572c-3.762 -18.764 -3.6 -80.188 3.6 -92.812C141.414 195.466 181.636 178.13 219.8 173.4Z"
                fill="#000000"
                strokeWidth={1}
              />
              <path
                d="M362.238 137.128c-24.574 -11.71 -66.902 0.754 -65.92 44.31 0.646 28.722 24.136 46.176 49.418 44.736 22.728 -1.294 41.66 -17.452 44.028 -40.252a50 50 0 0 0 -27.526 -48.794Zm4.542 29.026c-12.544 10.504 -21.184 19.754 -29.564 34a1.704 1.704 0 0 1 -2.686 -0.038 133.292 133.292 0 0 0 -17.824 -17.424c-1.268 -1.092 -0.138 -2.6 1.65 -2.146a40.424 40.424 0 0 1 15.946 9.024c6.512 -10.87 19.49 -21.2 30.81 -26.656a1.832 1.832 0 0 1 1.668 3.24Z"
                fill="#000000"
                strokeWidth={1}
              />
            </svg>
          </div>
        )}
        {progress >= 100 && (
          <span className="w-1/2 text-center text-lg text-gray-800">
            Pronto! Acabei de <strong className="text-black">processar</strong>{" "}
            as informações, agora você pode ver seu negócio e pode ser acessado
            na <strong className="text-black">dashboard</strong>.
          </span>
        )}
        {progress >= 100 && (
          <Link
            className="mt-6 max-w-7xl rounded-md border bg-black px-6 py-2 py-2 text-center text-sm text-white hover:border-black hover:bg-white hover:text-black"
            href={`/`}
          >
            {"Ir para dashboard"}
          </Link>
        )}
      </m.div>
    </>
  );
}

const listMessages = [
  "Configurando branding book",
  "Gerando sua paleta de cores",
  "Analisando suas informações",
  "Configurando estratégias de conteúdo",
  "Configurando estratégias de redes sociais",
  "Finalizando o restante das configurações",
];
